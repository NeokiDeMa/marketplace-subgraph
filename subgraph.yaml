specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: Marketplace
    network: mumbai
    source:
      address: "0x6b22686415bC29F4a90c27a1Cce6a8cEa5A60994"
      abi: Marketplace
      startBlock: 33478590
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - DeleteItem
        - NewBoughtItem
        - NewListing
        - RoleAdminChanged
        - RoleGranted
        - RoleRevoked
        - UpdateItemAddAmount
        - UpdateItemPrice
        - UpdateItemRemoveAmount
        - UpdateMarketplaceFee
      abis:
        - name: Marketplace
          file: ./abis/Marketplace.json
      eventHandlers:
        - event: DeleteItem(uint256)
          handler: handleDeleteItem
        - event: NewBoughtItem(uint256,uint256,uint256,uint256,address,address,address,uint256,uint256)
          handler: handleNewBoughtItem
        - event: NewListing(uint256,uint256,uint256,uint256,address,address)
          handler: handleNewListing
        - event: RoleAdminChanged(indexed bytes32,indexed bytes32,indexed bytes32)
          handler: handleRoleAdminChanged
        - event: RoleGranted(indexed bytes32,indexed address,indexed address)
          handler: handleRoleGranted
        - event: RoleRevoked(indexed bytes32,indexed address,indexed address)
          handler: handleRoleRevoked
        - event: UpdateItemAddAmount(uint256,uint256)
          handler: handleUpdateItemAddAmount
        - event: UpdateItemPrice(uint256,uint256)
          handler: handleUpdateItemPrice
        - event: UpdateItemRemoveAmount(uint256,uint256)
          handler: handleUpdateItemRemoveAmount
        - event: UpdateMarketplaceFee(indexed address,uint16)
          handler: handleUpdateMarketplaceFee
      file: ./src/marketplace.ts
